{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5050\";\nconst loadAirports = async () => {\n  try {\n    const {\n      airports\n    } = await fetchAirports(); // ✅ only get the array\n    setAirports(airports || []); // fallback to [] in case it's undefined\n  } catch (error) {\n    console.error('Error fetching airports:', error);\n    setAirports([]); // fallback to avoid breaking the UI\n  }\n};\nexport const fetchAirport = async icao => {\n  try {\n    const response = await axios.get(`${API_URL}/airports/${icao}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching airport ${icao}:`, error);\n    throw error;\n  }\n};\nexport const addAirport = async airportData => {\n  try {\n    const response = await axios.post(`${API_URL}/airports`, airportData);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error adding airport:\", error);\n    throw error;\n  }\n};\nexport const deleteAirport = async icao => {\n  try {\n    const response = await axios.delete(`${API_URL}/airports/${icao}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error deleting airport ${icao}:`, error);\n    throw error;\n  }\n};\nexport const fetchStatistics = async () => {\n  try {\n    const [averageElevation, noIata, topTimezones, elevationPerCountry] = await Promise.all([axios.get(`${API_URL}/scripts/average-elevation`), axios.get(`${API_URL}/scripts/no-iata`), axios.get(`${API_URL}/scripts/top-timezones?limit=10`), axios.get(`${API_URL}/scripts/average-elevation-per-country`)]);\n    return {\n      averageElevation: averageElevation.data.average,\n      noIataCount: noIata.data.length,\n      noIataAirports: noIata.data,\n      topTimezones: topTimezones.data,\n      elevationPerCountry: elevationPerCountry.data\n    };\n  } catch (error) {\n    console.error(\"Error fetching statistics:\", error);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","loadAirports","airports","fetchAirports","setAirports","error","console","fetchAirport","icao","response","get","data","addAirport","airportData","post","deleteAirport","delete","fetchStatistics","averageElevation","noIata","topTimezones","elevationPerCountry","Promise","all","average","noIataCount","length","noIataAirports"],"sources":["/Users/I528952/Downloads/airportv3/frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\"\n\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5050\"\nconst loadAirports = async () => {\n  try {\n    const { airports } = await fetchAirports(); // ✅ only get the array\n    setAirports(airports || []); // fallback to [] in case it's undefined\n  } catch (error) {\n    console.error('Error fetching airports:', error);\n    setAirports([]); // fallback to avoid breaking the UI\n  }\n};\n\n\nexport const fetchAirport = async (icao) => {\n  try {\n    const response = await axios.get(`${API_URL}/airports/${icao}`)\n    return response.data\n  } catch (error) {\n    console.error(`Error fetching airport ${icao}:`, error)\n    throw error\n  }\n}\n\nexport const addAirport = async (airportData) => {\n  try {\n    const response = await axios.post(`${API_URL}/airports`, airportData)\n    return response.data\n  } catch (error) {\n    console.error(\"Error adding airport:\", error)\n    throw error\n  }\n}\n\nexport const deleteAirport = async (icao) => {\n  try {\n    const response = await axios.delete(`${API_URL}/airports/${icao}`)\n    return response.data\n  } catch (error) {\n    console.error(`Error deleting airport ${icao}:`, error)\n    throw error\n  }\n}\n\nexport const fetchStatistics = async () => {\n  try {\n    const [averageElevation, noIata, topTimezones, elevationPerCountry] = await Promise.all([\n      axios.get(`${API_URL}/scripts/average-elevation`),\n      axios.get(`${API_URL}/scripts/no-iata`),\n      axios.get(`${API_URL}/scripts/top-timezones?limit=10`),\n      axios.get(`${API_URL}/scripts/average-elevation-per-country`),\n    ])\n\n    return {\n      averageElevation: averageElevation.data.average,\n      noIataCount: noIata.data.length,\n      noIataAirports: noIata.data,\n      topTimezones: topTimezones.data,\n      elevationPerCountry: elevationPerCountry.data,\n    }\n  } catch (error) {\n    console.error(\"Error fetching statistics:\", error)\n    throw error\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AACxE,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;EAC/B,IAAI;IACF,MAAM;MAAEC;IAAS,CAAC,GAAG,MAAMC,aAAa,CAAC,CAAC,CAAC,CAAC;IAC5CC,WAAW,CAACF,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC;EAC/B,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChDD,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;EACnB;AACF,CAAC;AAGD,OAAO,MAAMG,YAAY,GAAG,MAAOC,IAAI,IAAK;EAC1C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAG,CAAC,GAAGb,OAAO,aAAaW,IAAI,EAAE,CAAC;IAC/D,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAON,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0BG,IAAI,GAAG,EAAEH,KAAK,CAAC;IACvD,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMO,UAAU,GAAG,MAAOC,WAAW,IAAK;EAC/C,IAAI;IACF,MAAMJ,QAAQ,GAAG,MAAMb,KAAK,CAACkB,IAAI,CAAC,GAAGjB,OAAO,WAAW,EAAEgB,WAAW,CAAC;IACrE,OAAOJ,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAON,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMU,aAAa,GAAG,MAAOP,IAAI,IAAK;EAC3C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACoB,MAAM,CAAC,GAAGnB,OAAO,aAAaW,IAAI,EAAE,CAAC;IAClE,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAON,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0BG,IAAI,GAAG,EAAEH,KAAK,CAAC;IACvD,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMY,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzC,IAAI;IACF,MAAM,CAACC,gBAAgB,EAAEC,MAAM,EAAEC,YAAY,EAAEC,mBAAmB,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACtF3B,KAAK,CAACc,GAAG,CAAC,GAAGb,OAAO,4BAA4B,CAAC,EACjDD,KAAK,CAACc,GAAG,CAAC,GAAGb,OAAO,kBAAkB,CAAC,EACvCD,KAAK,CAACc,GAAG,CAAC,GAAGb,OAAO,iCAAiC,CAAC,EACtDD,KAAK,CAACc,GAAG,CAAC,GAAGb,OAAO,wCAAwC,CAAC,CAC9D,CAAC;IAEF,OAAO;MACLqB,gBAAgB,EAAEA,gBAAgB,CAACP,IAAI,CAACa,OAAO;MAC/CC,WAAW,EAAEN,MAAM,CAACR,IAAI,CAACe,MAAM;MAC/BC,cAAc,EAAER,MAAM,CAACR,IAAI;MAC3BS,YAAY,EAAEA,YAAY,CAACT,IAAI;MAC/BU,mBAAmB,EAAEA,mBAAmB,CAACV;IAC3C,CAAC;EACH,CAAC,CAAC,OAAON,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}