{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5050\";\n\n// export const fetchAirports = async (sortBy = \"name\", order = \"asc\", filter = \"\") => {\n//   try {\n//     const response = await axios.get(`${API_URL}/airports`, {\n//       params: { sortBy, order, filter },\n//     })\n//     return response.data\n//   } catch (error) {\n//     console.error(\"Error fetching airports:\", error)\n//     throw error\n//   }\n// }\nexport const fetchAirports = async (sortBy = \"name\", order = \"asc\", filter = \"\", page = 1, limit = 50) => {\n  try {\n    const response = await axios.get(`${API_URL}/airports`, {\n      params: {\n        sortBy,\n        order,\n        filter,\n        page,\n        limit\n      }\n    });\n    const {\n      data\n    } = response;\n    if (Array.isArray(data.data)) {\n      return {\n        airports: data.data,\n        total: data.total,\n        page: data.page,\n        limit: data.limit\n      };\n    }\n    console.warn(\"Unexpected airport response format:\", data);\n    return {\n      airports: [],\n      total: 0,\n      page: 1,\n      limit: 50\n    };\n  } catch (error) {\n    console.error(\"Error fetching airports:\", error);\n    throw error;\n  }\n};\nexport const fetchAirport = async icao => {\n  try {\n    const response = await axios.get(`${API_URL}/airports/${icao}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching airport ${icao}:`, error);\n    throw error;\n  }\n};\nexport const addAirport = async airportData => {\n  try {\n    const response = await axios.post(`${API_URL}/airports`, airportData);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error adding airport:\", error);\n    throw error;\n  }\n};\nexport const deleteAirport = async icao => {\n  try {\n    const response = await axios.delete(`${API_URL}/airports/${icao}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error deleting airport ${icao}:`, error);\n    throw error;\n  }\n};\nexport const fetchStatistics = async () => {\n  try {\n    const [averageElevation, noIata, topTimezones, elevationPerCountry] = await Promise.all([axios.get(`${API_URL}/scripts/average-elevation`), axios.get(`${API_URL}/scripts/no-iata`), axios.get(`${API_URL}/scripts/top-timezones?limit=10`), axios.get(`${API_URL}/scripts/average-elevation-per-country`)]);\n    return {\n      averageElevation: averageElevation.data.average,\n      noIataCount: noIata.data.length,\n      noIataAirports: noIata.data,\n      topTimezones: topTimezones.data,\n      elevationPerCountry: elevationPerCountry.data\n    };\n  } catch (error) {\n    console.error(\"Error fetching statistics:\", error);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","fetchAirports","sortBy","order","filter","page","limit","response","get","params","data","Array","isArray","airports","total","console","warn","error","fetchAirport","icao","addAirport","airportData","post","deleteAirport","delete","fetchStatistics","averageElevation","noIata","topTimezones","elevationPerCountry","Promise","all","average","noIataCount","length","noIataAirports"],"sources":["/Users/I528952/Downloads/airportv3/frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\"\n\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5050\"\n\n// export const fetchAirports = async (sortBy = \"name\", order = \"asc\", filter = \"\") => {\n//   try {\n//     const response = await axios.get(`${API_URL}/airports`, {\n//       params: { sortBy, order, filter },\n//     })\n//     return response.data\n//   } catch (error) {\n//     console.error(\"Error fetching airports:\", error)\n//     throw error\n//   }\n// }\nexport const fetchAirports = async (sortBy = \"name\", order = \"asc\", filter = \"\", page = 1, limit = 50) => {\n  try {\n    const response = await axios.get(`${API_URL}/airports`, {\n      params: { sortBy, order, filter, page, limit },\n    })\n\n    const { data } = response\n\n    if (Array.isArray(data.data)) {\n      return {\n        airports: data.data,\n        total: data.total,\n        page: data.page,\n        limit: data.limit,\n      }\n    }\n\n    console.warn(\"Unexpected airport response format:\", data)\n    return { airports: [], total: 0, page: 1, limit: 50 }\n  } catch (error) {\n    console.error(\"Error fetching airports:\", error)\n    throw error\n  }\n}\n\nexport const fetchAirport = async (icao) => {\n  try {\n    const response = await axios.get(`${API_URL}/airports/${icao}`)\n    return response.data\n  } catch (error) {\n    console.error(`Error fetching airport ${icao}:`, error)\n    throw error\n  }\n}\n\nexport const addAirport = async (airportData) => {\n  try {\n    const response = await axios.post(`${API_URL}/airports`, airportData)\n    return response.data\n  } catch (error) {\n    console.error(\"Error adding airport:\", error)\n    throw error\n  }\n}\n\nexport const deleteAirport = async (icao) => {\n  try {\n    const response = await axios.delete(`${API_URL}/airports/${icao}`)\n    return response.data\n  } catch (error) {\n    console.error(`Error deleting airport ${icao}:`, error)\n    throw error\n  }\n}\n\nexport const fetchStatistics = async () => {\n  try {\n    const [averageElevation, noIata, topTimezones, elevationPerCountry] = await Promise.all([\n      axios.get(`${API_URL}/scripts/average-elevation`),\n      axios.get(`${API_URL}/scripts/no-iata`),\n      axios.get(`${API_URL}/scripts/top-timezones?limit=10`),\n      axios.get(`${API_URL}/scripts/average-elevation-per-country`),\n    ])\n\n    return {\n      averageElevation: averageElevation.data.average,\n      noIataCount: noIata.data.length,\n      noIataAirports: noIata.data,\n      topTimezones: topTimezones.data,\n      elevationPerCountry: elevationPerCountry.data,\n    }\n  } catch (error) {\n    console.error(\"Error fetching statistics:\", error)\n    throw error\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}