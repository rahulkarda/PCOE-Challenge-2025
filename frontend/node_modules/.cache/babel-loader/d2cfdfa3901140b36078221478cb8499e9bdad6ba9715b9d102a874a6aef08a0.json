{"ast":null,"code":"// import axios from \"axios\"\n\n// const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5050\"\n\n// export const fetchAirports = async (sortBy = \"name\", order = \"asc\", filter = \"\") => {\n//   try {\n//     const response = await axios.get(`${API_URL}/airports`, {\n//       params: { sortBy, order, filter },\n//     })\n//     return response.data\n//   } catch (error) {\n//     console.error(\"Error fetching airports:\", error)\n//     throw error\n//   }\n// }\n\n// export const fetchAirport = async (icao) => {\n//   try {\n//     const response = await axios.get(`${API_URL}/airports/${icao}`)\n//     return response.data\n//   } catch (error) {\n//     console.error(`Error fetching airport ${icao}:`, error)\n//     throw error\n//   }\n// }\n\n// export const addAirport = async (airportData) => {\n//   try {\n//     const response = await axios.post(`${API_URL}/airports`, airportData)\n//     return response.data\n//   } catch (error) {\n//     console.error(\"Error adding airport:\", error)\n//     throw error\n//   }\n// }\n\n// export const deleteAirport = async (icao) => {\n//   try {\n//     const response = await axios.delete(`${API_URL}/airports/${icao}`)\n//     return response.data\n//   } catch (error) {\n//     console.error(`Error deleting airport ${icao}:`, error)\n//     throw error\n//   }\n// }\n\n// export const fetchStatistics = async () => {\n//   try {\n//     const [averageElevation, noIata, topTimezones, elevationPerCountry] = await Promise.all([\n//       axios.get(`${API_URL}/scripts/average-elevation`),\n//       axios.get(`${API_URL}/scripts/no-iata`),\n//       axios.get(`${API_URL}/scripts/top-timezones?limit=10`),\n//       axios.get(`${API_URL}/scripts/average-elevation-per-country`),\n//     ])\n\n//     return {\n//       averageElevation: averageElevation.data.average,\n//       noIataCount: noIata.data.length,\n//       noIataAirports: noIata.data,\n//       topTimezones: topTimezones.data,\n//       elevationPerCountry: elevationPerCountry.data,\n//     }\n//   } catch (error) {\n//     console.error(\"Error fetching statistics:\", error)\n//     throw error\n//   }\n// }\nexport const fetchAirports = async (sortBy = \"name\", order = \"asc\", filter = \"\") => {\n  try {\n    const response = await axios.get(`${API_URL}/airports`, {\n      params: {\n        sortBy,\n        order,\n        filter\n      }\n    });\n\n    // ✅ Ensure it returns only the airport array\n    if (Array.isArray(response.data)) {\n      return response.data;\n    } else if (response.data && Array.isArray(response.data.data)) {\n      return response.data.data;\n    } else {\n      console.warn(\"Unexpected airport response format:\", response.data);\n      return [];\n    }\n  } catch (error) {\n    console.error(\"Error fetching airports:\", error);\n    throw error;\n  }\n};","map":{"version":3,"names":["fetchAirports","sortBy","order","filter","response","axios","get","API_URL","params","Array","isArray","data","console","warn","error"],"sources":["/Users/I528952/Downloads/airportv3/frontend/src/services/api.js"],"sourcesContent":["// import axios from \"axios\"\n\n// const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5050\"\n\n// export const fetchAirports = async (sortBy = \"name\", order = \"asc\", filter = \"\") => {\n//   try {\n//     const response = await axios.get(`${API_URL}/airports`, {\n//       params: { sortBy, order, filter },\n//     })\n//     return response.data\n//   } catch (error) {\n//     console.error(\"Error fetching airports:\", error)\n//     throw error\n//   }\n// }\n\n// export const fetchAirport = async (icao) => {\n//   try {\n//     const response = await axios.get(`${API_URL}/airports/${icao}`)\n//     return response.data\n//   } catch (error) {\n//     console.error(`Error fetching airport ${icao}:`, error)\n//     throw error\n//   }\n// }\n\n// export const addAirport = async (airportData) => {\n//   try {\n//     const response = await axios.post(`${API_URL}/airports`, airportData)\n//     return response.data\n//   } catch (error) {\n//     console.error(\"Error adding airport:\", error)\n//     throw error\n//   }\n// }\n\n// export const deleteAirport = async (icao) => {\n//   try {\n//     const response = await axios.delete(`${API_URL}/airports/${icao}`)\n//     return response.data\n//   } catch (error) {\n//     console.error(`Error deleting airport ${icao}:`, error)\n//     throw error\n//   }\n// }\n\n// export const fetchStatistics = async () => {\n//   try {\n//     const [averageElevation, noIata, topTimezones, elevationPerCountry] = await Promise.all([\n//       axios.get(`${API_URL}/scripts/average-elevation`),\n//       axios.get(`${API_URL}/scripts/no-iata`),\n//       axios.get(`${API_URL}/scripts/top-timezones?limit=10`),\n//       axios.get(`${API_URL}/scripts/average-elevation-per-country`),\n//     ])\n\n//     return {\n//       averageElevation: averageElevation.data.average,\n//       noIataCount: noIata.data.length,\n//       noIataAirports: noIata.data,\n//       topTimezones: topTimezones.data,\n//       elevationPerCountry: elevationPerCountry.data,\n//     }\n//   } catch (error) {\n//     console.error(\"Error fetching statistics:\", error)\n//     throw error\n//   }\n// }\nexport const fetchAirports = async (sortBy = \"name\", order = \"asc\", filter = \"\") => {\n  try {\n    const response = await axios.get(`${API_URL}/airports`, {\n      params: { sortBy, order, filter },\n    })\n\n    // ✅ Ensure it returns only the airport array\n    if (Array.isArray(response.data)) {\n      return response.data\n    } else if (response.data && Array.isArray(response.data.data)) {\n      return response.data.data\n    } else {\n      console.warn(\"Unexpected airport response format:\", response.data)\n      return []\n    }\n  } catch (error) {\n    console.error(\"Error fetching airports:\", error)\n    throw error\n  }\n}\n"],"mappings":"AAAA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,aAAa,GAAG,MAAAA,CAAOC,MAAM,GAAG,MAAM,EAAEC,KAAK,GAAG,KAAK,EAAEC,MAAM,GAAG,EAAE,KAAK;EAClF,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACC,GAAG,CAAC,GAAGC,OAAO,WAAW,EAAE;MACtDC,MAAM,EAAE;QAAEP,MAAM;QAAEC,KAAK;QAAEC;MAAO;IAClC,CAAC,CAAC;;IAEF;IACA,IAAIM,KAAK,CAACC,OAAO,CAACN,QAAQ,CAACO,IAAI,CAAC,EAAE;MAChC,OAAOP,QAAQ,CAACO,IAAI;IACtB,CAAC,MAAM,IAAIP,QAAQ,CAACO,IAAI,IAAIF,KAAK,CAACC,OAAO,CAACN,QAAQ,CAACO,IAAI,CAACA,IAAI,CAAC,EAAE;MAC7D,OAAOP,QAAQ,CAACO,IAAI,CAACA,IAAI;IAC3B,CAAC,MAAM;MACLC,OAAO,CAACC,IAAI,CAAC,qCAAqC,EAAET,QAAQ,CAACO,IAAI,CAAC;MAClE,OAAO,EAAE;IACX;EACF,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}